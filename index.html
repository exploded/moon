<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="A page to find the rise and set times of the moon for any location. Uses Google Maps to find your location.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Moon Rise and Set Times</title>
	<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="static/styles.css">
</head>

<body>
	<div class="container">
		<header>
			<div class="header-row">
				<h1 class="header-title">ðŸŒ™ Moon Rise and Set Times</h1>
				<div class="spacer"></div>
				<nav class="nav">
					<a class="nav-link current" href="/"><i class="material-icons" style="font-size: 18px;">home</i> Home</a>
					<a class="nav-link" href="about">About</a>
					<a id="callink" class="nav-link" href="calendar">Calendar</a>
				</nav>
			</div>
		</header>
		<main>
			<div class="page-content">
				<div class="card">
					<div class="card-media">
						<div id="mapholder" role="application" aria-label="Interactive map for selecting location"></div>
					</div>
					<div class="card-content">
						<div class="form-section">
							<h3>Location</h3>
							<p class="form-instructions">Move the pin on the map to select your location</p>
							<div class="input-row">
								<div class="input-group">
									<label class="input-label" for="lat">Latitude</label>
								<input id="lat" type="number" pattern="-?[0-9]*(\.[0-9]+)?" min="-90" max="90" step="any" onchange="SpinnersChanged()" value="-37" aria-label="Latitude in decimal degrees" />
							</div>
							<div class="input-group">
								<label class="input-label" for="lon">Longitude</label>
								<input id="lon" type="number" pattern="-?[0-9]*(\.[0-9]+)?" min="-180" max="180" step="any" onchange="SpinnersChanged()" value="144" aria-label="Longitude in decimal degrees" />
							</div>
						</div>
						<div class="input-group">
						<label class="input-label" for="timezone">Timezone</label>
						<select id="timezone" onchange="timezoneChanged()" aria-label="Select timezone">
							<option value="">Loading timezones...</option>
						</select>
						<input id="zon" type="hidden" value="" />
					</div>
				</div>

				<div class="results-section">
					<h3>Moon Times for Today</h3>
					<div class="result-item">
						<span class="result-label">ðŸŒ„ Moonrise</span>
						<input id="Rise" readonly class="result-value" type="text" aria-label="Moon rise time" value="--:--" />
					</div>
					<div class="result-item">
						<span class="result-label">ðŸŒ… Moonset</span>
						<input id="Set" readonly class="result-value" type="text" aria-label="Moon set time" value="--:--" />
					</div>
				</div>

				<p id="errormessage" role="alert" aria-live="polite"></p>
			</div>
					<div class="card-actions">
						<button class="btn" onclick="refresh()" aria-label="Reset location to browser location">
							<i class="material-icons" style="font-size: 18px;">my_location</i> Use My Location
						</button>
					</div>
				</div>
			</div>
		</main>
	</div>
	<script>
		// Google Maps API key passed from server
		window.GOOGLE_MAPS_KEY = '{{.GoogleMapsKey}}';
	</script>
	<script src="static/script.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js?key={{.GoogleMapsKey}}&loading=async&callback=initMap&libraries=marker" async defer></script>
</body>

</html>
